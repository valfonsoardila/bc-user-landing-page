---
import DropDown from "../components/common/drop-down.tsx";
import SearchBar from "../components/common/search-bar.tsx";
import "../styles/faq-page.styles.css"; // Importa el archivo CSS aquí
import logo from "../assets/img/logo.png"; // Importa el archivo PNG aquí
import FAQData from "../assets/json/SeccionesFaq.json";
import MenuButtonIsland from "../components/islands/menu-button-island.jsx";
let filteredFAQs = FAQData.faqs;
// Define el tipo del parámetro como 'string'
const handleSearch = (searchTerm: string) => {
  console.log("esta escribiendo");
  filteredFAQs = FAQData.faqs.filter((item) =>
    item.question.toLowerCase().includes(searchTerm.toLowerCase())
  );
};
---

<div class="container-faq-page">
  <header class="header-faq">
    <div class="header-left">
      <img src={logo.src} alt="BeatConnect" style="width: 8em; height: 8em;" />
      <h1>Preguntas Frecuentes</h1>
      <p>
        Encuentra respuestas a las preguntas más comunes sobre nuestra
        aplicación.
      </p>
    </div>

    <!-- Menú de botones superpuesto -->
    <MenuButtonIsland client:load />
  </header>

  <section class="content-faq">
    <div class="faq-header">
      <h2 class="faq-title">Lista de preguntas</h2>
      <span class="item-count">{FAQData.faqs.length} Preguntas</span>
    </div>
    <SearchBar client:load onSearch={handleSearch} />
    <!-- Incluye el componente de búsqueda aquí -->
    <div class="faq-list">
      {
        filteredFAQs.map((item, index) => (
          <DropDown
            client:load
            question={item.question}
            answer={item.answer}
            hasButton={item.hasButton}
            url={item.url}
          />
        ))
      }
    </div>
  </section>
</div>
